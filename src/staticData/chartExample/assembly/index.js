/*
 * @Name: 组合图集静态数据
 * @Description: 描述信息
 * @Author: biubiu
 * @Date: 2024-07-18
*/

import assembly1Img from "@/assets/image/chartExample/assembly/assembly1.png";
import assembly2Img from "@/assets/image/chartExample/assembly/assembly2.png";
import assembly3Img from "@/assets/image/chartExample/assembly/assembly3.png";
import assembly4Img from "@/assets/image/chartExample/assembly/assembly4.png";
import assembly5Img from "@/assets/image/chartExample/assembly/assembly5.png";
import assembly6Img from "@/assets/image/chartExample/assembly/assembly6.png";
import assembly7Img from "@/assets/image/chartExample/assembly/assembly7.png";
import assembly8Img from "@/assets/image/chartExample/assembly/assembly8.png";
import assembly9Img from "@/assets/image/chartExample/assembly/assembly9.png";

export const AssemblyChartData = [
  {
    id: "assembly9",
    name: "充值情况分析",
    type: ["assembly","bar","line"],
    date: "2024.11.25",
    exampleImg: assembly9Img,
    remark: "双y轴，柱状图结合折线图",
    renderer: "canvas",
    code: "const nameList = [\n  '1月',\n  '2月',\n  '3月',\n  '4月',\n  '5月',\n  '6月',\n  '7月',\n  '8月',\n  '9月',\n  '10月',\n  '11月',\n  '12月'\n];\nconst valueList = [\n  [\n    '100',\n    '100',\n    '100',\n    '50',\n    '50',\n    '100',\n    '100',\n    '100',\n    '50',\n    '50',\n    '50',\n    '50'\n  ],\n  [\n    '400',\n    '420',\n    '400',\n    '450',\n    '420',\n    '400',\n    '420',\n    '400',\n    '450',\n    '420',\n    '400',\n    '420'\n  ]\n];\nconst typeList = ['充值金额(元/次)', '充卡频次'];\nconst yNameList = ['金额：元', '频次：次'];\n\n/* 数据整合 */\nlet seriesData = [];\ntypeList.map((item, index) => {\n  if (index === 0) {\n    seriesData.push({\n      name: item,\n      type: 'bar',\n      data: valueList[index],\n      barWidth: 13,\n      itemStyle: {\n        color: {\n          type: 'linear',\n          x: 0,\n          y: 0,\n          x2: 0,\n          y2: 1,\n          colorStops: [\n            {\n              offset: 0,\n              color: '#33CFC9'\n            },\n            {\n              offset: 1,\n              color: '#397EF0'\n            }\n          ],\n          global: false\n        },\n        borderRadius: [4, 4, 0, 0]\n      }\n    });\n  } else {\n    seriesData.push({\n      name: item,\n      type: 'line',\n      data: valueList[index],\n      yAxisIndex: 1,\n      symbol: 'circle',\n      symbolSize: 8,\n      lineStyle: {\n        width: 2.5,\n        color: {\n          x: 0,\n          y: 0,\n          x2: 1,\n          y2: 0,\n          colorStops: [\n            {\n              offset: 0,\n              color: '#F06A39'\n            },\n            {\n              offset: 1,\n              color: '#F06A39'\n            }\n          ],\n          global: false\n        }\n      },\n      itemStyle: {\n        color: '#FFF',\n        borderColor: {\n          x: 0,\n          y: 0,\n          x2: 1,\n          y2: 0,\n          colorStops: [\n            {\n              offset: 0,\n              color: '#F06A39'\n            },\n            {\n              offset: 1,\n              color: '#F06A39'\n            }\n          ]\n        },\n        borderWidth: 2.5\n      }\n    });\n  }\n});\n\noption = {\n  grid: {\n    top: '60',\n    bottom: '24',\n    left: '24',\n    right: '24',\n    containLabel: true\n  },\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: {\n      type: 'none'\n    },\n    formatter: '{b0}<br/>{a0}: {c0}元<br/>{a1}: {c1}次'\n  },\n  legend: {\n    type: 'scroll',\n    left: '24',\n    top: '0',\n    itemGap: 16,\n    itemWidth: 12,\n    itemHeight: 12,\n    textStyle: {\n      fontSize: 14,\n      color: 'rgba(0, 0, 0, 0.45)',\n      fontFamily: 'Source Han Sans CN'\n    },\n    data: typeList\n  },\n  xAxis: [\n    {\n      data: nameList,\n      axisLabel: {\n        color: 'rgba(0, 0, 0, 0.65)',\n        fontSize: 14,\n        fontFamily: 'HarmonyOS Sans'\n      },\n      axisLine: {\n        lineStyle: {\n          color: 'rgba(204, 204, 204, 1)'\n        }\n      },\n      axisTick: {\n        show: false\n      }\n    }\n  ],\n  yAxis: [\n    {\n      type: 'value',\n      name: yNameList[0],\n      nameTextStyle: {\n        fontSize: 14,\n        color: 'rgba(0, 0, 0, 0.65)',\n        fontFamily: 'Source Han Sans CN-Regular',\n        align: 'left',\n        verticalAlign: 'center'\n      },\n      axisLabel: {\n        color: 'rgba(0, 0, 0, 0.65)',\n        fontSize: 16,\n        fontFamily: 'HarmonyOS Sans'\n      },\n      axisLine: {\n        show: false\n      },\n      axisTick: {\n        show: false\n      },\n      splitLine: {\n        lineStyle: {\n          color: 'rgba(223, 223, 223, 1)',\n          type: 'dashed'\n        }\n      },\n      alignTicks: true,\n      boundaryGap: ['0%', '10%'],\n    },\n    {\n      type: 'value',\n      name: yNameList[1],\n      nameTextStyle: {\n        color: 'rgba(0, 0, 0, 0.65)',\n        fontSize: 14,\n        fontFamily: 'Source Han Sans CN',\n        align: 'right',\n        verticalAlign: 'center'\n      },\n      axisLabel: {\n        color: 'rgba(0,0,0,0.65)',\n        fontSize: 14,\n        fontFamily: 'HarmonyOS Sans'\n      },\n      axisLine: {\n        show: false\n      },\n      axisTick: {\n        show: false\n      },\n      splitLine: {\n        lineStyle: {\n          color: 'rgba(223, 223, 223, 1)',\n          type: 'dashed'\n        }\n      },\n      alignTicks: true,\n      boundaryGap: ['0%', '10%'],\n    }\n  ],\n  series: seriesData\n};"
  },
  {
    id: "assembly8",
    name: "消费水平",
    type: ["assembly","bar","line"],
    date: "2024.07.19",
    exampleImg: assembly8Img,
    remark: "多柱状图结合多折线图",
    renderer: "svg",
    code: "const nameList = ['2019-1', '2019-2', '2020-1', '2020-2', '2021-1']; // x轴类名\nconst valueList = [\n  [65, 50, 20, 15, 45],\n  [85, 80, 60, 76, 85],\n  [65, 50, 20, 15, 45],\n  [85, 80, 60, 76, 85]\n]; // 数据\nconst typeList = ['个人消费额', '学校消费均额', '个人消费次数', '学校消费次数']; // 类别\nconst unitList = ['元', '元', '次', '次']; // 单位\nconst yNameList = ['月消费总额', '次数(次)'];\nconst chartTypeList = ['bar', 'bar', 'line', 'line'];\nconst showNum = 5; // 展示条数\n\nlet dataZoomShow = nameList.length > showNum;\n\n/* 数据处理 */\nlet seriesData = [];\nlet legendData = [];\nconst barColorList = [\n  {\n    type: 'linear',\n    x: 0,\n    y: 0,\n    x2: 0,\n    y2: 1,\n    colorStops: [\n      {\n        offset: 0,\n        color: 'rgba(129, 189, 255, 1)'\n      },\n      {\n        offset: 1,\n        color: 'rgba(50, 148, 255, 1)'\n      }\n    ],\n    global: false\n  },\n  {\n    type: 'linear',\n    x: 0,\n    y: 0,\n    x2: 0,\n    y2: 1,\n    colorStops: [\n      {\n        offset: 0,\n        color: '#36D9A9'\n      },\n      {\n        offset: 1,\n        color: '#0BC991'\n      }\n    ],\n    global: false\n  }\n];\nconst barTipColorList = ['#63B4FF', '#61E9C1'];\nconst lineColorList = ['rgba(255, 189, 111', 'rgba(255, 147, 96'];\nconst lineTipColorList = ['#FFBD6F', '#FF9360'];\n\nlet barIndex = 0;\nlet lineIndex = 0;\n\ntypeList.map((typeItem, typeIndex) => {\n  if (chartTypeList[typeIndex] === 'bar') {\n    seriesData.push({\n      type: 'bar',\n      z: 1,\n      name: typeItem,\n      data: valueList[typeIndex],\n      itemStyle: {\n        color: barColorList[barIndex],\n        borderRadius: [4, 4, 0, 0]\n      },\n      barWidth: 36\n    });\n    legendData.push({\n      name: typeItem\n    });\n    barIndex++;\n  } else {\n    seriesData.push({\n      name: typeItem,\n      type: 'line',\n      z: 2,\n      data: valueList[typeIndex],\n      symbolSize: 8,\n      yAxisIndex: 1,\n      //标记的大小\n      lineStyle: {\n        color: `${lineColorList[lineIndex]}, 1)`,\n        width: 2,\n        shadowColor: `${lineColorList[lineIndex]}, 0.3)`,\n        shadowBlur: 6,\n        shadowOffsetY: 4\n      },\n      itemStyle: {\n        color: `${lineColorList[lineIndex]}, 1)`\n      },\n      emphasis: {\n        scale: 1.2\n      }\n    });\n    legendData.push({\n      name: typeItem\n    });\n    lineIndex++;\n  }\n});\n// 添加柱状背景\nseriesData.push({\n  name: 'bgBar',\n  type: 'bar',\n  // silent: true,\n  yAxisIndex: 2,\n  xAxisIndex: 1,\n  z: 3,\n  barCategoryGap: 0,\n  // barWidth: 128,\n  data: nameList.map((item) => {\n    return {\n      value: 100,\n      itemStyle: {\n        color: 'rgba(50, 148, 255, 0)'\n      }\n    };\n  })\n});\n\noption = {\n  grid: {\n    top: '60',\n    right: '0',\n    left: '0',\n    bottom: dataZoomShow ? '12' : '0',\n    containLabel: true\n  },\n  dataZoom: [\n    {\n      type: 'slider',\n      backgroundColor: 'rgba(57, 126, 204, 0.2)',\n      brushSelect: false,\n      filterMode: 'none',\n      height: 8,\n      show: dataZoomShow,\n      left: 'center',\n      bottom: 0,\n      startValue: 0,\n      endValue: showNum - 1,\n      handleIcon: 'none',\n      fillerColor: 'rgba(57, 126, 204, 0.5)',\n      borderColor: 'transparent',\n      showDetail: false,\n      showDataShadow: false\n    },\n    {\n      type: 'inside',\n      zoomOnMouseWheel: false, //滚轮是否触发缩放\n      moveOnMouseMove: true, //鼠标滚轮触发滚动\n      moveOnMouseWheel: true\n    }\n  ],\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: {\n      type: 'none'\n    },\n    confine: true,\n    formatter: (params) => {\n      const { name } = params[0];\n      let childDiv = `<div style=\"display: flex;flex-direction: column;gap: 4px 0;\">`;\n      let barTipIndex = 0;\n      let lineTipIndex = 0;\n      params.map((childItem, childIndex) => {\n        let tipColor =\n          childItem['seriesType'] === 'bar'\n            ? barTipColorList[barTipIndex]\n            : lineTipColorList[lineTipIndex];\n        if (childItem['seriesName'] !== 'bgBar') {\n          console.log(barTipIndex);\n          childDiv += `<div style=\"display: flex;align-items: center;gap: 0 4px;\">\n            <div style=\"width: 6px;height: 6px;border-radius: 50%;border: 2px solid ${tipColor};\"></div>\n            <div style=\"font-family: Source Han Sans CN-Regular;font-weight: 400;font-size: 14px;color: rgba(0,0,0,0.45);\">${childItem['seriesName']}</div>\n            <div style=\"margin-left: 2px;font-family: Source Han Sans CN-Regular;font-weight: 400;font-size: 14px;color: rgba(0,0,0,0.65);\">${childItem['value']}${unitList[childIndex]}</div>\n          </div>`;\n\n          if (childItem['seriesType'] === 'bar') {\n            barTipIndex++;\n          } else {\n            lineTipIndex++;\n          }\n        }\n      });\n      childDiv += `</div>`;\n      return `\n        <div style=\"font-size: 14px;font-family: Source Han Sans CN-Regular;font-weight: 400;color: rgba(0,0,0,0.65);margin-bottom:4px;\">${name}</div>\n        ${childDiv}\n      `;\n    },\n    extraCssText:\n      'background-color:#F6F9FD;padding:4px 8px;box-shadow: 0px 0px 4px 0px rgba(99,149,250,0.4);border-radius: 4px;'\n  },\n  legend: {\n    data: legendData,\n    top: '0',\n    right: '0',\n    itemWidth: 16,\n    itemHeight: 16,\n    itemGap: 16,\n    textStyle: {\n      fontSize: 14,\n      color: 'rgba(0, 0, 0, 0.65)',\n      fontFamily: 'Source Han Sans CN-Regular',\n      padding: [0, 0, 0, 4]\n    }\n  },\n  xAxis: [\n    {\n      type: 'category',\n      data: nameList,\n      axisTick: { show: false },\n      axisLine: {\n        lineStyle: {\n          color: 'rgba(204, 204, 204, 1)'\n        }\n      },\n      axisLabel: {\n        color: 'rgba(102, 102, 102, 1)',\n        fontSize: 14,\n        fontFamily: 'Source Han Sans CN-Regular'\n      }\n    },\n    {\n      type: 'category',\n      data: nameList,\n      axisTick: { show: false },\n      axisLine: { show: false },\n      axisLabel: { show: false }\n    }\n  ],\n  yAxis: [\n    {\n      type: 'value',\n      alignTicks: true,\n      name: yNameList[0],\n      nameTextStyle: {\n        color: 'rgba(0,0,0,0.65)',\n        fontSize: 14,\n        fontFamily: 'Source Han Sans CN-Regular',\n        fontWeight: 400,\n        align: 'left',\n        verticalAlign: 'center'\n      },\n      axisLabel: {\n        fontSize: 14,\n        color: 'rgba(0,0,0,0.65)',\n        fontFamily: 'Source Han Sans CN-Regular',\n        fontWeight: 400\n      },\n      axisLine: {\n        show: true,\n        lineStyle: {\n          color: 'rgba(204, 204, 204, 1)',\n          width: 1\n        }\n      },\n      axisTick: {\n        show: false\n      },\n      splitLine: {\n        lineStyle: {\n          color: 'rgba(216, 216, 216, 0.5)'\n        }\n      }\n    },\n    {\n      type: 'value',\n      alignTicks: true,\n      name: yNameList[1],\n      nameTextStyle: {\n        color: 'rgba(0,0,0,0.65)',\n        fontSize: 14,\n        fontFamily: 'Source Han Sans CN-Regular',\n        fontWeight: 400,\n        align: 'right',\n        verticalAlign: 'center'\n      },\n      axisLabel: {\n        fontSize: 14,\n        color: 'rgba(0,0,0,0.65)',\n        fontFamily: 'Source Han Sans CN-Regular',\n        fontWeight: 400\n      },\n      axisLine: {\n        show: true,\n        lineStyle: {\n          color: 'rgba(204, 204, 204, 1)',\n          width: 1\n        }\n      },\n      axisTick: {\n        show: false\n      },\n      splitLine: {\n        lineStyle: {\n          color: 'rgba(216, 216, 216, 0.5)'\n        }\n      }\n    },\n    {\n      boundaryGap: ['0', '10%'],\n      position: 'right',\n      max: 100,\n      type: 'value',\n      axisTick: {\n        show: false\n      },\n      splitLine: {\n        show: false\n      },\n      axisLine: {\n        show: false\n      },\n      axisLabel: {\n        show: false\n      },\n      splitArea: {\n        show: false\n      }\n    }\n  ],\n  series: seriesData\n};\n\nmyChart.on('mouseover', (params) => {\n  myChart.dispatchAction({\n    type: 'downplay',\n    seriesIndex: 0\n  });\n  myChart.dispatchAction({\n    type: 'highlight',\n    seriesIndex: 0,\n    dataIndex: params.dataIndex\n  });\n  myChart.setOption({\n    tooltip: {\n      trigger: 'axis',\n      showContent: true\n    },\n    series: [\n      {\n        name: 'bgBar',\n        data: nameList.map((item, index) => {\n          if (index === params.dataIndex) {\n            return {\n              value: 100,\n              itemStyle: {\n                color: 'rgba(50, 148, 255, 0.1)'\n              }\n            };\n          } else {\n            return {\n              value: 100,\n              itemStyle: {\n                color: 'rgba(50, 148, 255, 0)'\n              }\n            };\n          }\n        })\n      }\n    ]\n  });\n});\nmyChart.on('mouseout', (params) => {\n  myChart.setOption({\n    tooltip: {\n      trigger: 'none',\n      showContent: false\n    },\n    series: [\n      {\n        name: 'bgBar',\n        data: nameList.map((item, index) => {\n          return {\n            value: 100,\n            itemStyle: {\n              color: 'rgba(50, 148, 255, 0)'\n            }\n          };\n        })\n      }\n    ]\n  });\n});"
  },
  {
    id: "assembly7",
    name: "近10年工作量趋势",
    type: ["assembly","bar","line"],
    date: "2024.05.23",
    exampleImg: assembly7Img,
    remark: "柱状折线组合图，轮播滚动",
    renderer: "svg",
    code: "const nameList = [\n  '2014年',\n  '2015年',\n  '2016年',\n  '2017年',\n  '2018年',\n  '2019年',\n  '2020年',\n  '2021年',\n  '2022年',\n  '2023年'\n];\nconst valueList = [\n  [48, 48, 30, 45, 75, 48, 48, 30, 45, 75],\n  [48, 48, 30, 45, 75, 48, 48, 30, 45, 75],\n  [68, 78, 50, 65, 95, 68, 78, 50, 65, 95]\n];\nconst typeList = ['公共课', '专业课', '学校平均'];\nconst unit = '';\n\nlet showNum = 5;\nlet dataZoomShow = nameList.length > 5;\n\n/* 数据处理 */\nlet seriesData = [];\nlet legendData = [];\nlet colorList = [\n  'rgba(57, 126, 240, 1)',\n  'rgba(35, 214, 136, 1)',\n  'rgba(255, 195, 41, 1)'\n];\n\ntypeList.map((typeItem, typeIndex) => {\n  if (typeIndex === typeList.length - 1) {\n    // 最后一个添加折线数据\n    seriesData.push({\n      name: typeItem,\n      type: 'line',\n      z: 2,\n      data: valueList[typeIndex],\n      symbolSize: 8,\n      //标记的大小\n      lineStyle: {\n        color: 'rgba(255, 229, 143, 1)',\n        width: 2\n      },\n      itemStyle: {\n        color: 'rgba(250, 173, 20, 1)'\n        // borderColor: 'rgba(250, 173, 20, 1)',\n      },\n      areaStyle: {\n        color: {\n          type: 'linear',\n          x: 1,\n          y: 1,\n          x2: 1,\n          y2: 0,\n          colorStops: [\n            {\n              offset: 0,\n              color: 'rgba(255, 175, 20, 0)'\n              // 0% 处的颜色\n            },\n            {\n              offset: 1,\n              color: 'rgba(255, 175, 20, 0.3)'\n              // 100% 处的颜色\n            }\n          ],\n          global: false\n          // 缺省为 false\n        }\n      },\n      emphasis: {\n        scale: 1.5\n      }\n    });\n    legendData.push({\n      name: typeItem\n    });\n  } else {\n    seriesData.push({\n      type: 'bar',\n      z: 1,\n      name: typeItem,\n      data: valueList[typeIndex],\n      stack: 'bar',\n      itemStyle: {\n        color: colorList[typeIndex],\n        borderRadius: typeIndex === typeList.length - 2 && [4, 4, 0, 0]\n      },\n      barWidth: 15\n    });\n    legendData.push({\n      name: typeItem\n    });\n  }\n});\n// 添加柱状背景\nseriesData.push({\n  name: 'bgBar',\n  type: 'bar',\n  // silent: true,\n  yAxisIndex: 1,\n  xAxisIndex: 1,\n  z: 3,\n  data: nameList.map((item) => {\n    return {\n      value: 100,\n      itemStyle: {\n        color: 'rgba(57,126,240,0)'\n      }\n    };\n  })\n});\n\noption = {\n  grid: {\n    top: '36',\n    right: '0',\n    left: '0',\n    bottom: dataZoomShow ? '12' : '0',\n    containLabel: true\n  },\n  dataZoom: [\n    {\n      type: 'slider',\n      backgroundColor: 'transparent',\n      brushSelect: false,\n      filterMode: 'none',\n      height: 8,\n      show: dataZoomShow,\n      left: 'center',\n      bottom: 0,\n      startValue: 0,\n      endValue: 4,\n      handleIcon: 'none',\n      fillerColor: 'rgba(62, 102, 181, 0.5)',\n      borderColor: 'transparent',\n      showDetail: false,\n      showDataShadow: false\n    },\n    {\n      type: 'inside',\n      zoomOnMouseWheel: false, //滚轮是否触发缩放\n      moveOnMouseMove: true, //鼠标滚轮触发滚动\n      moveOnMouseWheel: true\n    }\n  ],\n  tooltip: {\n    trigger: 'none',\n    axisPointer: {\n      type: 'none'\n    },\n    confine: true,\n    formatter: (params) => {\n      const { name } = params[0];\n      let childDiv = `<div style=\"display: flex;flex-direction: column;gap: 4px 0;\">`;\n      params.map((childItem, childIndex) => {\n        if (childItem['seriesName'] !== 'bgBar') {\n          childDiv += `<div style=\"display: flex;align-items: center;gap: 0 4px;\">\n            <div style=\"width: 6px;height: 6px;border-radius: 50%;border: 2px solid ${colorList[childIndex]};\"></div>\n            <div style=\"font-family: Source Han Sans CN-Regular;font-weight: 400;font-size: 12px;color: rgba(0,0,0,0.45);\">${childItem['seriesName']}</div>\n            <div style=\"margin-left: 2px;font-family: Source Han Sans CN-Regular;font-weight: 400;font-size: 12px;color: rgba(0,0,0,0.65);\">${childItem['value']}${unit}</div>\n          </div>`;\n        }\n      });\n      childDiv += `</div>`;\n      return `\n        <div style=\"font-size: 12px;font-family: Source Han Sans CN-Regular;font-weight: 400;color: rgba(0,0,0,0.65);margin-bottom:8px;\">${name}</div>\n        ${childDiv}\n      `;\n    },\n    extraCssText:\n      'background-color:#F6F9FD;padding:8px;box-shadow: 0px 0px 4px 0px rgba(99,149,250,0.4);border-radius: 4px;'\n  },\n  legend: {\n    data: legendData,\n    top: '0',\n    right: '0',\n    itemWidth: 12,\n    itemHeight: 12,\n    //itemGap: 20,\n    textStyle: {\n      fontSize: 12,\n      color: 'rgba(0, 0, 0, 0.65)',\n      fontFamily: 'Source Han Sans CN-Regular'\n    }\n  },\n  xAxis: [\n    {\n      type: 'category',\n      data: nameList,\n      axisTick: { show: false },\n      axisLine: {\n        lineStyle: {\n          color: 'rgba(62, 102, 181, 0.8)'\n        }\n      },\n      axisLabel: {\n        color: 'rgba(0,0,0,0.65)',\n        fontSize: 12,\n        fontFamily: 'Source Han Sans CN-Regular'\n      }\n    },\n    {\n      type: 'category',\n      data: nameList,\n      axisTick: { show: false },\n      axisLine: { show: false },\n      axisLabel: { show: false }\n    }\n  ],\n  yAxis: [\n    {\n      boundaryGap: ['0', '5%'],\n      type: 'value',\n      splitNumber: 5,\n      axisLabel: {\n        fontSize: 12,\n        color: 'rgba(0,0,0,0.65)',\n        fontFamily: 'Source Han Sans CN-Regular'\n      },\n      axisLine: {\n        show: false\n      },\n      axisTick: {\n        show: false\n      },\n      splitLine: {\n        lineStyle: {\n          color: 'rgba(62, 102, 181, 0.6)',\n          type: 'dashed'\n        }\n      }\n    },\n    {\n      boundaryGap: ['0', '10%'],\n      position: 'right',\n      max: 100,\n      type: 'value',\n      axisTick: {\n        show: false\n      },\n      splitLine: {\n        show: false\n      },\n      axisLine: {\n        show: false\n      },\n      axisLabel: {\n        show: false\n      },\n      splitArea: {\n        show: false\n      }\n    }\n  ],\n  series: seriesData\n};\n\nlet count = 0;\nvar timer = null;\nlet dataLength = option.series[0].data.length;\ntimer && clearInterval(timer);\ntimer = setInterval(() => {\n  myChart.dispatchAction({\n    type: 'downplay',\n    seriesIndex: 0\n  });\n  myChart.dispatchAction({\n    type: 'dataZoom',\n    // 可选，dataZoom 组件的 index，多个 dataZoom 组件时有用，默认为 0\n    dataZoomIndex: 0,\n    // 开始位置的数值\n    startValue:\n      count % dataLength > showNum - 1 ? (count % dataLength) - showNum + 1 : 0,\n    // 结束位置的数值\n    endValue:\n      count % dataLength > showNum - 1 ? count % dataLength : showNum - 1\n  });\n  myChart.dispatchAction({\n    type: 'highlight',\n    seriesIndex: 0,\n    dataIndex: count % dataLength\n  });\n  myChart.dispatchAction({\n    type: 'showTip',\n    seriesIndex: 0,\n    dataIndex: count % dataLength\n  });\n  myChart.setOption({\n    tooltip: {\n      trigger: 'axis',\n      showContent: true\n    },\n    series: [\n      {\n        name: 'bgBar',\n        data: nameList.map((item, index) => {\n          if (index === count % dataLength) {\n            return {\n              value: 100,\n              itemStyle: {\n                color: 'rgba(57,126,240,0.2)'\n              }\n            };\n          } else {\n            return {\n              value: 100,\n              itemStyle: {\n                color: 'rgba(57,126,240,0)'\n              }\n            };\n          }\n        })\n      }\n    ]\n  });\n  count++;\n}, 3000);\nmyChart.on('mouseover', (params) => {\n  clearInterval(timer);\n  clearTimeout(timer);\n  myChart.dispatchAction({\n    type: 'downplay',\n    seriesIndex: 0\n  });\n  myChart.dispatchAction({\n    type: 'highlight',\n    seriesIndex: 0,\n    dataIndex: params.dataIndex\n  });\n  myChart.setOption({\n    tooltip: {\n      trigger: 'axis',\n      showContent: true\n    },\n    series: [\n      {\n        name: 'bgBar',\n        data: nameList.map((item, index) => {\n          if (index === params.dataIndex) {\n            return {\n              value: 100,\n              itemStyle: {\n                color: 'rgba(57,126,240,0.2)'\n              }\n            };\n          } else {\n            return {\n              value: 100,\n              itemStyle: {\n                color: 'rgba(57,126,240,0)'\n              }\n            };\n          }\n        })\n      }\n    ]\n  });\n});\nmyChart.on('mouseout', (params) => {\n  clearInterval(timer);\n  clearTimeout(timer);\n  count = params.dataIndex;\n  myChart.setOption({\n    tooltip: {\n      trigger: 'none',\n      showContent: false\n    },\n    series: [\n      {\n        name: 'bgBar',\n        data: nameList.map((item, index) => {\n          return {\n            value: 100,\n            itemStyle: {\n              color: 'rgba(57,126,240,0)'\n            }\n          };\n        })\n      }\n    ]\n  });\n  timer = setInterval(() => {\n    myChart.dispatchAction({\n      type: 'downplay',\n      seriesIndex: 0\n    });\n    myChart.dispatchAction({\n      type: 'dataZoom',\n      // 可选，dataZoom 组件的 index，多个 dataZoom 组件时有用，默认为 0\n      dataZoomIndex: 0,\n      // 开始位置的数值\n      startValue:\n        count % dataLength > showNum - 1\n          ? (count % dataLength) - showNum + 1\n          : 0,\n      // 结束位置的数值\n      endValue:\n        count % dataLength > showNum - 1 ? count % dataLength : showNum - 1\n    });\n    myChart.dispatchAction({\n      type: 'highlight',\n      seriesIndex: 0,\n      dataIndex: count % dataLength\n    });\n    myChart.dispatchAction({\n      type: 'showTip',\n      seriesIndex: 0,\n      dataIndex: count % dataLength\n    });\n    myChart.setOption({\n      tooltip: {\n        trigger: 'axis',\n        showContent: true\n      },\n      series: [\n        {\n          name: 'bgBar',\n          data: nameList.map((item, index) => {\n            if (index === count % dataLength) {\n              return {\n                value: 100,\n                itemStyle: {\n                  color: 'rgba(57,126,240,0.2)'\n                }\n              };\n            } else {\n              return {\n                value: 100,\n                itemStyle: {\n                  color: 'rgba(57,126,240,0)'\n                }\n              };\n            }\n          })\n        }\n      ]\n    });\n    count++;\n  }, 3000);\n});\nmyChart.on('dataZoom', (params) => {\n  clearInterval(timer);\n  clearTimeout(timer);\n  timer = setTimeout(() => {\n    let currentIndex = count % dataLength;\n    let startVal = currentIndex > showNum - 1 ? currentIndex - showNum + 1 : 0;\n    let endVal = currentIndex > showNum - 1 ? currentIndex : showNum - 1;\n    if (params.startValue == undefined) {\n      count = myChart.getOption().dataZoom[0].startValue;\n      startVal = myChart.getOption().dataZoom[0].startValue;\n      endVal = myChart.getOption().dataZoom[0].endValue;\n      currentIndex = count % dataLength;\n    }\n    myChart.dispatchAction({\n      type: 'downplay',\n      seriesIndex: [0]\n    });\n    myChart.dispatchAction({\n      type: 'dataZoom',\n      // 可选，dataZoom 组件的 index，多个 dataZoom 组件时有用，默认为 0\n      dataZoomIndex: 0,\n      // 开始位置的数值\n      startValue: startVal,\n      // 结束位置的数值\n      endValue: endVal\n    });\n    myChart.dispatchAction({\n      type: 'highlight',\n      seriesIndex: [0],\n      dataIndex: currentIndex\n    });\n    myChart.dispatchAction({\n      type: 'showTip',\n      seriesIndex: 0,\n      dataIndex: currentIndex\n    });\n    myChart.setOption({\n      tooltip: {\n        trigger: 'axis',\n        showContent: true\n      },\n      series: [\n        {\n          name: 'bgBar',\n          data: nameList.map((item, index) => {\n            if (index === count % dataLength) {\n              return {\n                value: 100,\n                itemStyle: {\n                  color: 'rgba(57,126,240,0.2)'\n                }\n              };\n            } else {\n              return {\n                value: 100,\n                itemStyle: {\n                  color: 'rgba(57,126,240,0)'\n                }\n              };\n            }\n          })\n        }\n      ]\n    });\n    count++;\n  }, 3000);\n});"
  },
  {
    id: "assembly6",
    name: "历年发明专利授权及专利转化实施趋势",
    type: ["assembly","bar","line"],
    date: "2024.02.22",
    exampleImg: assembly6Img,
    remark: "柱状折线组合图",
    renderer: "svg",
    code: "const yNameList = ['专利授权(个)', '专利转化实施(%)']; // Y轴名称\nconst unitList = ['个', '%']; // 统计单位\nconst nameList = ['2019', '2020', '2021', '2022', '2023']; //x轴数据\nconst valueList = [\n  [78, 68, 58, 88, 97],\n  [45, 25, 35, 94, 86]\n]; // 折线总数据\nconst legend = ['发明专利授权', '专利转化实施']; // 图例数据\nconst showNum = 5; // 展示条数\n\nconst legendColorList = [\n  'linear-gradient(180deg, #00B2FF 0%, #0072FF 100%)',\n  'linear-gradient(360deg, #FFC34E 0%, #FFDFA1 100%)'\n];\n\nconst calMax = (arr) => {\n  let max = 0;\n  arr.forEach((el) => {\n    el.forEach((el1) => {\n      if (!(el1 === undefined || el1 === '')) {\n        if (max < el1) {\n          max = el1;\n        }\n      }\n    });\n  });\n  let maxint = Math.ceil(max / 9.5);\n  //不让最高的值超过最上面的刻度\n  let maxval = maxint * 10;\n  //让显示的刻度是整数\n  return maxval;\n};\n\nconst yMax = Math.ceil(calMax(valueList) / 100) * 100;\n\n// legend数据\nlet legendData = [];\n// series数据\nlet seriesData = [];\nlegend.map((item, index) => {\n  if (index === 0) {\n    legendData.push({\n      name: item,\n      icon: 'roundRect'\n    });\n\n    seriesData.push({\n      name: item,\n      yAxisIndex: 0,\n      type: 'bar',\n      data: valueList[index],\n      barWidth: 8,\n      z: 1,\n      itemStyle: {\n        color: {\n          type: 'linear',\n          x: 0,\n          y: 0,\n          x2: 0,\n          y2: 1,\n          colorStops: [\n            {\n              offset: 0,\n              color: '#70EEFE' // 0% 处的颜色\n            },\n            {\n              offset: 1,\n              color: '#2359AA' // 100% 处的颜色\n            }\n          ],\n          global: false // 缺省为 false\n        },\n        borderRadius: [2, 2, 0, 0]\n      }\n    });\n  } else {\n    legendData.push({\n      name: item,\n      itemStyle: {\n        color: 'white',\n        borderWidth: 3,\n        borderColor: '#FAAD14'\n      }\n    });\n\n    seriesData.push({\n      z: 2,\n      yAxisIndex: 1,\n      name: item,\n      symbol: 'circle',\n      symbolSize: 6,\n      type: 'line',\n      data: valueList[1],\n      lineStyle: {\n        color: '#FFE58F'\n      },\n      itemStyle: {\n        color: 'transparent'\n      },\n      areaStyle: {\n        color: {\n          type: 'linear',\n          x: 0,\n          y: 0,\n          x2: 0,\n          y2: 1,\n          colorStops: [\n            {\n              offset: 0,\n              color: 'rgba(255, 175, 20, 0.3)' // 0% 处的颜色\n            },\n            {\n              offset: 1,\n              color: 'rgba(255, 175, 20, 0)' // 100% 处的颜色\n            }\n          ],\n          global: false // 缺省为 false\n        }\n      },\n      emphasis: {\n        scale: 2,\n        itemStyle: {\n          color: '#FFFFFF',\n          borderWidth: 4,\n          borderColor: '#FAAD14'\n        }\n      }\n    });\n  }\n});\n\noption = {\n  backgroundColor: '#040a11',\n  dataZoom: [\n    {\n      show: nameList.length > showNum, //flase直接隐藏图形\n      type: 'slider',\n      backgroundColor: 'transparent',\n      brushSelect: false, // 是否开启刷选功能\n      zoomLock: false, // 是否锁定选择区域大小\n      height: 7,\n      //left: 'center', //滚动条靠左侧的百分比\n      bottom: 0,\n      // yAxisIndex: [0],\n      startValue: 0, //滚动条的起始位置\n      endValue: showNum - 1, //滚动条的截止位置（按比例分割你的柱状图x轴长度）\n      handleStyle: {\n        color: 'rgba(57, 126, 240, 0.5)',\n        borderColor: 'rgba(57, 126, 240, 0.5)'\n      },\n      fillerColor: 'rgba(57, 126, 240, 0.5)',\n      borderColor: 'transparent',\n      showDetail: false,\n      dataBackground: {\n        areaStyle: {\n          opacity: 0\n        },\n        lineStyle: {\n          color: 'transparent'\n        }\n      }\n    }\n  ],\n  grid: {\n    left: '0',\n    right: '0',\n    bottom: nameList.length > showNum ? '16' : '0', //下边距,,\n    top: '52',\n    containLabel: true\n  },\n  legend: {\n    data: legendData,\n    top: 0,\n    left: 0,\n    itemWidth: 12,\n    itemHeight: 12,\n    itemGap: 16,\n    textStyle: {\n      fontSize: 12,\n      color: '#ABC6F7',\n      fontFamily: 'Source Han Sans CN-Regular',\n      padding: [0, 0, 0, 4]\n    }\n  },\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: {\n      type: 'shadow',\n      shadowStyle: {\n        color: 'rgba(57, 126, 240, 0.1)'\n      }\n    },\n    confine: true,\n    formatter: (params) => {\n      let currenrName = params[0].name;\n      let childDiv = `<div>`;\n      legend.map((item, index) => {\n        params.map((item2, index2) => {\n          if (item2.seriesName === item) {\n            childDiv += `\n                <div style=\"margin-top: 4px;position:relative;\">\n                  <div style=\"background: ${legendColorList[index2]};width: 8px;height: 8px;position:absolute;top:50%;transform:translateY(-50%);left:0;border-radius:2px;\"></div>\n                  <span style=\"margin:0 0 0 16px;font-size: 12px;font-family: Source Han Sans CN-Regular;font-weight: 400;color: #FFFFFF;\">${item}：${params[index2].value}${unitList[index]}</span>\n                </div>\n            `;\n          }\n        });\n      });\n      childDiv += `</div>`;\n      return `\n\t\t\t\t    <div style=\"font-size: 12px;font-family: Source Han Sans CN-Medium;font-weight: 500;color: #FFFFFF;margin-bottom:4px;\">${currenrName}</div>\n            ${childDiv}\n\t\t\t    `;\n    },\n    extraCssText:\n      'background-color:rgba(0,13,35,0.9);padding:8px 12px;box-shadow: 1px 6px 15px 1px rgba(0,0,0,0.13);border-radius: 4px;filter: blur(undefinedpx);border:none;'\n  },\n  xAxis: [\n    {\n      type: 'category',\n      axisLine: {\n        show: true,\n        lineStyle: {\n          color: 'rgba(62, 102, 181, 1)'\n        }\n      },\n      axisTick: {\n        show: false\n      },\n      axisLabel: {\n        color: '#ABC6F7',\n        interval: 0,\n        fontSize: 12,\n        fontFamily: 'Source Han Sans CN-Regular',\n        fontWeight: 400\n      },\n      data: nameList\n    }\n  ],\n  yAxis: [\n    {\n      min: 0,\n      max: yMax,\n      name: yNameList[0],\n      nameTextStyle: {\n        color: '#ABC6F7',\n        fontSize: 12,\n        fontFamily: 'Source Han Sans CN-Regular',\n        fontWeight: 400,\n        align: 'left',\n        verticalAlign: 'center'\n      },\n      type: 'value',\n      boundaryGap: ['0%', '20%'],\n      splitNumber: 5,\n      splitLine: {\n        lineStyle: {\n          color: 'rgba(62, 102, 181, 1)',\n          type: 'dashed'\n        }\n      },\n      axisLabel: {\n        color: '#ABC6F7',\n        interval: 0,\n        fontSize: 12,\n        fontFamily: 'Source Han Sans CN-Regular',\n        fontWeight: 400\n      },\n      axisTick: {\n        show: false\n      },\n      axisLine: {\n        show: false\n      }\n    },\n    {\n      min: 0,\n      max: 100,\n      name: yNameList[1],\n      alignTicks: true,\n      nameTextStyle: {\n        color: '#ABC6F7',\n        fontSize: 12,\n        fontFamily: 'Source Han Sans CN-Regular',\n        fontWeight: 400,\n        align: 'right',\n        verticalAlign: 'center'\n      },\n      type: 'value',\n      boundaryGap: ['0%', '20%'],\n      splitNumber: 5,\n      splitLine: {\n        lineStyle: {\n          color: 'rgba(62, 102, 181, 1)',\n          type: 'dashed'\n        }\n      },\n      axisLabel: {\n        color: '#ABC6F7',\n        interval: 0,\n        fontSize: 12,\n        fontFamily: 'Source Han Sans CN-Regular',\n        fontWeight: 400\n      },\n      axisTick: {\n        show: false\n      },\n      axisLine: {\n        show: false\n      }\n    }\n  ],\n  series: seriesData\n};"
  },
  {
    id: "assembly5",
    name: "图书类型阅读数趋势",
    type: ["assembly","line","pie"],
    date: "2023.12.25",
    exampleImg: assembly5Img,
    remark: "饼图联动折线图，鼠标悬浮高亮折线",
    renderer: "svg",
    code: "// 折线图\nlet captions = ['2017', '2018', '2019', '2020', '2021', '2022']; //日期\nlet values1 = [11, 21, 31, 41, 51, 61]; //专著\nlet values2 = [13, 23, 33, 43, 53, 63]; //编著\nlet values3 = [15, 25, 35, 45, 55, 65]; //译著\nlet values4 = [17, 27, 37, 47, 57, 67]; //电子\nlet values5 = [19, 29, 39, 49, 59, 69]; //其他\nlet lineData = [values1, values2, values3, values4, values5];\n// 柱状图\nlet getname = ['专著', '编著', '译著', '电子出版物', '其他读物'];\nlet getbl = [150, 20, 16, 10, 9]; // 数量\nlet data = [];\nfor (let i = 0; i < getname.length; i++) {\n  data.push({ name: getname[i], value: getbl[i] });\n}\n// 其他数据\nlet currentYear = '2022'; // 当年\nlet colorList = ['#5B8FF9', '#61DDAA', '#2F467A', '#F6BD16', '#FA8974']; // 色系\n\n// series整合\nlet seriesData = [];\ngetname.map((item, index) => {\n  seriesData.push({\n    name: item,\n    type: 'line',\n    data: lineData[index],\n    color: colorList[index],\n    symbolSize: 10, //标记的大小\n    lineStyle: {\n      color: colorList[index],\n      width: 3\n    },\n    itemStyle: {\n      //折线拐点标志的样式\n      color: colorList[index],\n      borderColor: colorList[index],\n      borderWidth: 3\n    },\n    emphasis: {\n      focus: 'series'\n    }\n  });\n});\nseriesData.push({\n  // 饼图\n  type: 'pie',\n  radius: ['25%', '35%'],\n  center: ['20%', '50%'],\n  itemStyle: {\n    shadowBlur: 8,\n    shadowColor: 'rgba(255, 255, 255, 0)',\n    borderColor: '#FFF',\n    borderWidth: 2,\n    borderRadius: 5,\n    color: function (params) {\n      return colorList[params.dataIndex];\n    }\n  },\n  label: {\n    show: false\n  },\n  labelLine: {\n    show: false\n  },\n  tooltip: {\n    trigger: 'item',\n    axisPointer: {\n      type: 'none'\n    },\n    formatter: `{b}<br/>${currentYear}年：{c}本({d}%)`\n  },\n  data: data\n});\n\nfunction calMax(arr) {\n  let max = 0;\n  arr.forEach((el) => {\n    el.forEach((el1) => {\n      if (!(el1 === undefined || el1 === '')) {\n        if (max < el1) {\n          max = el1;\n        }\n      }\n    });\n  });\n  let maxInt = Math.ceil(max / 9.5);\n  //不让最高的值超过最上面的刻度\n  let maxVal = maxInt * 10;\n  //让显示的刻度是整数\n  return maxVal;\n}\nconst max =\n  Math.ceil(calMax([values1, values2, values3, values4, values5]) / 100) * 100;\n\noption = {\n  color: colorList,\n  tooltip: {\n    trigger: 'axis',\n    //axisPointer: {\n    //type: 'none'\n    //},\n    formatter:\n      '{b0}年<br/>{a0}：{c0}<br/>{a1}：{c1}<br/>{a2}：{c2}<br/>{a3}：{c3}<br/>{a4}：{c4}'\n  },\n  legend: {\n    data: getname,\n    top: '5%',\n    left: 'center',\n    itemGap: 25,\n    itemWidth: 10,\n    selectedMode: 'multiple',\n    textStyle: {\n      fontSize: 14,\n      color: 'rgba(0, 0, 0, 0.45)',\n      fontFamily: 'Source Han Sans CN-Regular',\n      padding: [0, 0, 0, 5]\n    }\n  },\n  grid: [\n    {\n      left: '40%',\n      right: '5%',\n      top: '15%',\n      bottom: '15%',\n      containLabel: true\n    }\n  ],\n  xAxis: {\n    type: 'category',\n    data: captions,\n    gridIndex: 0,\n    axisTick: {\n      show: false //隐藏X轴刻度\n    },\n    axisLine: {\n      lineStyle: {\n        color: 'rgba(204, 204, 204, 1)'\n      }\n    },\n    axisLabel: {\n      show: true,\n      textStyle: {\n        fontSize: 14,\n        color: 'rgba(0, 0, 0, 0.65)', //X轴文字颜色\n        fontFamily: 'Source Han Sans CN-Regular'\n      }\n    }\n  },\n  yAxis: {\n    name: '著作：本',\n    nameTextStyle: {\n      fontSize: 14,\n      color: 'rgba(0, 0, 0, 0.65)', //X轴文字颜色\n      fontFamily: 'Source Han Sans CN-Regular',\n      align: 'left',\n      verticalAlign: 'center'\n    },\n    min: 0,\n    max: max, // 计算最大值\n    interval: max / 5, //  平均分为5份\n    splitNumber: 5,\n    type: 'value',\n    axisTick: {\n      show: false\n    },\n    splitLine: {\n      lineStyle: {\n        type: 'dashed',\n        width: 1,\n        color: 'rgba(223, 223, 223, 1)',\n        opacity: '1'\n      }\n    },\n    axisLine: {\n      show: false\n    },\n    axisLabel: {\n      show: true,\n      textStyle: {\n        fontSize: 14,\n        color: 'rgba(0, 0, 0, 0.65)',\n        fontFamily: 'HarmonyOS Sans-Regular'\n      }\n    },\n    splitArea: {\n      show: false\n    }\n  },\n  series: seriesData\n};\nmyChart.on('mouseover', 'series.pie', function (params) {\n  myChart.dispatchAction({\n    type: 'highlight', // 高亮\n    seriesName: params.name\n  });\n});"
  },
  {
    id: "assembly4",
    name: "各类型奖项级别分布",
    type: ["assembly","bar","sunburst"],
    date: "2023.12.25",
    exampleImg: assembly4Img,
    remark: "柱状图联动旭日图，鼠标悬浮切换",
    renderer: "svg",
    code: "// 数据\nvar xyear = ['2017', '2018', '2019', '2020', '2021', '2022']; // 年份\nvar legenddata = ['省部级', '教育部级']; // 图例，级别类型\nvar djList = [\n  '二等奖',\n  '三等奖',\n  '一等奖',\n  '二等奖',\n  '一等奖',\n  '优秀奖',\n  '二等奖',\n  '三等奖',\n  '优秀奖',\n  '二等奖',\n  '其他奖',\n  '三等奖',\n  '一等奖',\n  '二等奖',\n  '三等奖',\n  '一等奖',\n  '二等奖',\n  '二等奖',\n  '三等奖',\n  '一等奖'\n]; // 等级类型;\nvar djgsList = [3, 0, 3, 0, 3, 0, 4, 3, 1, 0, 3, 0]; // 等级个数;\nvar djslList = [8, 10, 4, 41, 21, 1, 1, 1, 2, 12, 4, 5, 2, 5, 2, 3, 1, 7, 1, 4]; // 等级数量;\nvar jbSum = [22, 0, 63, 0, 4, 0, 23, 10, 1, 0, 12, 0]; // 级别总数\nlet colorList = [\n  ['#5B8FF9', ['#7FA5FA', '#ADC6FC', '#DEE9FF', '#EFF3FF'], '#2F467A'],\n  ['#61DDAA', ['#81E3BC', '#B2EED5', '#E2F7EE', '#EFFBF7'], '#21A397'],\n  ['#F6BD16', ['#F9D56A', '#FCE5A1', '#FEF5D7', '#FDF9ED'], '#F6BD16'],\n  ['#FA8974', ['#FCA18F', '#FAC6B9', '#FBE8E2', '#FEF3F1'], '#971E23']\n];\n\n// 数据汇总整合\nlet jbi = 0; // 当前级别位置\nlet dji = 0; // 当前等级位置\nlet dataAll = []; // 数据整合列表 [年份：[级别：[等级名字：[],等级数量：[],级别总和：0],[],...],[],...]\nxyear.map((item, index) => {\n  let a = []; // 年份\n  legenddata.map((i, v) => {\n    let b = []; // 等级名字\n    let c = []; // 等级数量\n    for (let j = dji; j < djgsList[jbi] + dji; j++) {\n      b.push(djList[j]);\n      c.push(djslList[j]);\n    }\n    a.push([b, c, jbSum[jbi]]);\n    dji += djgsList[jbi];\n    jbi++;\n  });\n  dataAll.push(a);\n});\n\n// 旭日图数据转换\nvar index = 5; //修改处一：数据索引下标由 0->5\nvar data = (index) => {\n  let dataList = [];\n  dataAll[index].map((item, len) => {\n    let childList = [];\n    let jbsum = 0; // 级别总和\n    item[0].map((v, i) => {\n      childList.push({\n        value: item[1][i],\n        name: v,\n        label: {\n          color: colorList[len][2]\n        },\n        // 每个子类别 可以单独设置颜色\n        itemStyle: {\n          color: colorList[len][1][i]\n        }\n      });\n      jbsum += item[1][i];\n    });\n    dataList.push({\n      name: legenddata[len],\n      value: jbsum,\n      label: {\n        color: '#fff'\n      },\n      itemStyle: {\n        color: colorList[len][0]\n      },\n      children: childList\n    });\n  });\n  return dataList;\n};\n// series数据\nlet seriesData = [];\nlet yearSum = []; // 年份总和\ndataAll.map((v, i) => {\n  let a = 0;\n  v.map((vv, ii) => {\n    a += vv[2];\n  });\n  yearSum.push(a);\n});\n// 柱状图数据添加\nlegenddata.map((item, index) => {\n  let barData = []; // 柱状图数据\n  dataAll.map((v, i) => {\n    barData.push(v[index][2]);\n  });\n  seriesData.push({\n    name: item,\n    type: 'bar',\n    stack: 'total', // ! 多条数据总计 => 堆叠\n    barWidth: 16,\n    color: colorList[index][0],\n    itemStyle: { borderRadius: 0 },\n    data: barData\n  });\n});\n// 旭日图数据添加\nseriesData.push({\n  type: 'sunburst',\n  id: 'sunburst',\n  nodeClick: false, //是否允许旭日图点击 默认可以点击\n  center: ['80%', '50%'],\n  radius: ['0%', '40%'],\n  data: data(index),\n  // 占据的位置 文字设置\n  label: {\n    rotate: 'tangential', // 文字水平(tangential)竖直(radial)\n    color: '#fff',\n    fontSize: 14,\n    fontFamily: 'Source Han Sans CN-Regular',\n    minAngle: 30 // 控制角度文本显示\n  },\n  // 旭日图的分割线\n  itemStyle: {\n    borderColor: '#fff',\n    borderWidth: 7,\n    borderRadius: 7\n  },\n  tooltip: {\n    trigger: 'item'\n  },\n  levels: [\n    // 这里是设置 每一层的样式，层级低于单独在data里面的\n    // 第一个空数据是 占据下钻的位置\n    {},\n    // 设置第一层为环形\n    {\n      r0: '25%',\n      r: '40%',\n      emphasis: {\n        focus: 'descendant'\n      }\n    },\n    {\n      r0: '40%',\n      r: '55%',\n      emphasis: {\n        focus: 'none'\n      }\n    }\n  ]\n});\n\nvar getYearTotal = (index) => {\n  return yearSum[index];\n};\noption = {\n  title: {\n    id: 'title',\n    text: getYearTotal(index) + '个',\n    textStyle: {\n      fontSize: 18,\n      fontFamily: 'Source Han Sans CN-Medium',\n      fontWeight: 500,\n      color: 'rgba(0, 0, 0, 0.85)'\n    },\n    subtext: xyear[5] + '年',\n    subtextStyle: {\n      fontSize: 16,\n      fontFamily: 'Source Han Sans CN-Regular',\n      fontWeight: 500,\n      color: 'rgba(0, 0, 0, 0.45)'\n    },\n    textAlign: 'center',\n    itemGap: 5,\n    top: 'center',\n    left: '79.5%'\n  },\n  legend: {\n    data: legenddata,\n    itemWidth: 10,\n    itemHeight: 10,\n    top: '12',\n    left: '24',\n    itemGap: 20,\n    textStyle: {\n      fontSize: 14,\n      color: 'rgba(0, 0, 0, 0.45)',\n      fontFamily: 'Source Han Sans CN-Regular'\n    }\n  },\n  grid: {\n    left: '24',\n    right: '40%',\n    top: '74',\n    bottom: '12',\n    containLabel: true\n  },\n  xAxis: {\n    type: 'category',\n    data: xyear,\n    axisTick: {\n      show: false //隐藏X轴刻度\n    },\n    axisLine: {\n      lineStyle: {\n        color: 'rgba(204, 204, 204, 1)'\n      }\n    },\n    axisLabel: {\n      show: true,\n      fontSize: 14,\n      color: 'rgba(0, 0, 0, 0.65)', //X轴文字颜色\n      fontFamily: 'Source Han Sans CN-Regular'\n    }\n  },\n  yAxis: {\n    name: '获奖：个',\n    type: 'value',\n    nameTextStyle: {\n      color: 'rgba(0,0,0,0.65)',\n      fontSize: 14,\n      fontFamily: 'Source Han Sans CN-Regular',\n      align: 'left',\n      verticalAlign: 'center'\n    },\n    axisLabel: {\n      color: 'rgba(0,0,0,0.65)',\n      fontSize: 14,\n      fontFamily: 'HarmonyOS Sans-Regular'\n    },\n    axisLine: {\n      show: false,\n      lineStyle: {\n        color: 'rgba(223, 223, 223, 1)'\n      }\n    },\n    axisTick: {\n      show: false\n    },\n    splitLine: {\n      lineStyle: {\n        color: 'rgba(223, 223, 223, 1)',\n        type: 'dashed'\n      }\n    }\n  },\n  tooltip: {\n    trigger: 'axis',\n    triggerOn: 'mousemove',\n    axisPointer: {\n      type: 'shadow',\n      shadowStyle: {\n        color: 'rgba(151, 30, 35, 0.1)'\n      }\n    },\n    confine: true,\n    formatter: (params) => {\n      let dataIndex = params[0]?.dataIndex;\n      let childDiv = `<div>`;\n      params.map((item, index) => {\n        childDiv += `\n                <div style=\"margin-top: 8px;\">\n                  <span style=\"font-size: 14px;font-family: Source Han Sans CN-Regular;font-weight: 400;color: #FFFFFF;\">${item.seriesName}：${item.value}</span>\n                </div>\n              `;\n      });\n      childDiv += `</div>`;\n      return `\n            <div style=\"font-size: 14px;font-family: Source Han Sans CN-Medium;font-weight: 500;color: #FFFFFF;margin-bottom:12px;\">${\n              xyear[dataIndex]\n            }年获奖${getYearTotal(dataIndex)}个</div>\n            ${childDiv}`;\n    },\n    extraCssText:\n      'opacity: 0.8;background-color:#050F1B;padding:16px;box-shadow: 1px 6px 15px 1px rgba(0,0,0,0.13);border-radius: 4px;filter: blur(undefinedpx);border:none;',\n    renderMode: 'html',\n    className: 'tooltip',\n    order: 'seriesDesc'\n  },\n  series: seriesData\n};\n// 交互\nmyChart.on('updateAxisPointer', function (event) {\n  const xAxisInfo = event.axesInfo[0];\n  if (xAxisInfo) {\n    const index = event.dataIndexInside;\n    myChart.setOption({\n      title: {\n        text: getYearTotal(index) + '个',\n        subtext: xyear[index] + '年'\n      },\n      series: {\n        id: 'sunburst',\n        data: data(index)\n      }\n    });\n  }\n});"
  },
  {
    id: "assembly3",
    name: "在编岗位人员分布",
    type: ["assembly","treemap","pie"],
    date: "2023.12.25",
    exampleImg: assembly3Img,
    remark: "矩形树图联动饼图，鼠标点击切换",
    renderer: "svg",
    code: "/* 数据 */\n// 矩形树图\nconst bmName = ['消防指挥', '信息技术', '会计学', '外国语言与外国历史']; // 部门名称\nconst bmValue = [100, 50, 80, 60]; // 部门人数\n// 饼图\nconst gwName = [\n  '行政岗',\n  '专任教师岗',\n  '科学研究岗',\n  '双肩挑岗位',\n  '其他',\n  '行政岗',\n  '专任教师岗',\n  '其他',\n  '科学研究岗',\n  '其他',\n  '其他'\n]; // 岗位名称\nconst gwValue = [209, 180, 169, 136, 125, 150, 50, 50, 150, 50, 60]; // 岗位人数\nconst gwPercent = [35, 25, 20, 12, 8, 60, 20, 20, 75, 25, 100]; // 岗位人数占比\nconst gwNum = [5, 3, 2, 1]; // 部门对应岗位数\n\n/* 整合 */\n// 颜色系列\nconst colorSelectList = [\n  'rgba(115, 160, 251, 1)',\n  'rgba(249, 202, 65, 1)',\n  'rgba(115, 222, 180, 1)',\n  'rgba(249, 137, 115, 1)'\n];\nconst colorTreemap = [\n  'rgba(115, 160, 251, 0.25)',\n  'rgba(249, 202, 65, 0.25)',\n  'rgba(115, 222, 180, 0.25)',\n  'rgba(249, 137, 115, 0.25)'\n];\nconst colorPie = ['#73A0FB', '#73DEB4', '#2F467A', '#FACA42', '#F98973'];\n// 矩形树图\nlet treeMapData = [];\nbmName.map((item, index) => {\n  treeMapData.push({\n    name: item,\n    value: bmValue[index],\n    itemStyle: {\n      color: colorTreemap[index]\n    },\n    select: {\n      itemStyle: {\n        color: colorSelectList[index]\n      }\n    }\n  });\n});\n// 饼图\nlet pieData = {};\nlet currentIndex = 0; // 当前岗位下标\nbmName.map((item, index) => {\n  let list = [];\n  for (let i = currentIndex; i < currentIndex + gwNum[index]; i++) {\n    list.push({\n      name: gwName[i],\n      value: gwValue[i],\n      percent: gwPercent[i]\n    });\n  }\n  currentIndex += gwNum[index];\n  pieData[item] = list;\n});\n\n/* 函数 */\n//获取当前部门的饼图数据\nconst getPieData = (bm) => {\n  return pieData[bm];\n};\n// 获取当前岗位的legend数据\nconst getLegendData = (bm) => {\n  let pieData = getPieData(bm);\n  return pieData.map((item) => item.name);\n};\n\n/* 当前数据 */\n// 饼图当前数据\nlet currentPieData = getPieData(bmName[0]);\n// 当前部门\nlet currentBm = bmName[0];\n\n/* series数据 */\nlet seriesData = [];\n// 树图series\nseriesData.push({\n  name: 'treemap',\n  id: 'treemap',\n  type: 'treemap',\n  data: treeMapData,\n  roam: false, //拖拽漫游（移动和缩放）\n  nodeClick: false, // 节点点击\n  breadcrumb: false, // 面包屑\n  width: '45%',\n  left: '16',\n  top: 300,\n  bottom: 300,\n  label: {\n    show: true,\n    position: [8, 8],\n    formatter: function (params) {\n      return `{name|${params.name}}\\n{value|${params.value}人}`;\n    },\n    rich: {\n      name: {\n        fontSize: 12,\n        fontFamily: 'Source Han Sans CN-Regular',\n        color: '#fff'\n      },\n      value: {\n        fontSize: 24,\n        fontFamily: 'HarmonyOS Sans-Medium',\n        color: '#fff',\n        padding: [10, 0, 0, 0]\n      }\n    }\n  },\n  selectedMode: 'single',\n  itemStyle: {\n    borderWidth: 2,\n    borderColor: '#fff'\n  },\n  tooltip: {\n    trigger: 'item',\n    axisPointer: {\n      type: 'none'\n    },\n    confine: true,\n    formatter: (params) => {\n      return `\n\t\t\t\t   <div style=\"font-size: 14px;font-family: Source Han Sans CN-Medium;font-weight: 500;color: #FFFFFF;margin-bottom:8px;\">${params.name}</div>\n               <div style=\"font-size: 14px;font-family: Source Han Sans CN-Medium;font-weight: 500;color: #FFFFFF;\">部门在岗在编人数：${params.value}人</div>\n\t\t\t    `;\n    },\n    extraCssText:\n      'opacity: 0.8;background-color:#050F1B;padding:12px;box-shadow: 1px 6px 15px 1px rgba(0,0,0,0.13);border-radius: 4px;filter: blur(undefinedpx);border:none;'\n  }\n});\n// 饼图series\nseriesData.push({\n  name: 'pie',\n  id: 'pie',\n  type: 'pie',\n  left: '40%',\n  top: 'center',\n  width: '45%',\n  color: colorPie,\n  label: { show: false },\n  radius: ['30%', '40%'],\n  data: currentPieData\n});\n\noption = {\n  graphic: {\n    type: 'image',\n    top: 'center',\n    left: '48%',\n    style: {\n      image:\n        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAOhJREFUOE9jZGBgYJgho6Sa8eTebRCbWMAIUjhdTnkHw3+GU8KP7zaGMTD8JUYzQiMDgzsDA8MDhv8MjZmP7y4gpBldI0z9Psb//xozHt8/hMsAXBph6uew/GVsTH165wm6AYQ0gtT/ZGRgbMx4dKcdWTMxGmHqr//7z9CY/fjuSpAAKRohBvxnaM18fLeGeI2MDMuZmf83pN27d4soG/8z/j/JwMDYmPXw7nbi/MjI8Po/WMOdqdiiBKtT/zP+7/vDytSYd+fOJ6LikZGRYcNfRqbG7Ae3LxCdchgZ/8/KeHhvHSENMHkAvNRhD4R/LDUAAAAASUVORK5CYII='\n    }\n  },\n  title: {\n    text: `{bm| ${currentBm}}{txt|在岗在编岗位系列人员分布}`,\n    textStyle: {\n      rich: {\n        bm: {\n          color: 'rgba(151, 30, 35, 1)',\n          fontFamily: 'Source Han Sans CN-Regular',\n          fontSize: 14\n        },\n        txt: {\n          color: 'rgba(0, 0, 0, 0.85)',\n          fontFamily: 'Source Han Sans CN-Regular',\n          fontSize: 14,\n          padding: [0, 0, 0, 8]\n        }\n      }\n    },\n    backgroundColor: {\n      type: 'linear',\n      x: 0,\n      y: 0,\n      x2: 1,\n      y2: 0,\n      colorStops: [\n        {\n          offset: 0,\n          color: 'rgba(151, 30, 35, 0.2)' // 0% 处的颜色\n        },\n        {\n          offset: 1,\n          color: 'rgba(151, 30, 35, 0)' // 100% 处的颜色\n        }\n      ],\n      global: false // 缺省为 false\n    },\n    left: '52%',\n    top: '20%'\n  },\n  tooltip: {},\n  legend: {\n    type: 'scroll',\n    orient: 'vertical',\n    //height: '80%',\n    right: '16',\n    top: 'center',\n    icon: 'circle', //设置为圆，删除则为矩形\n    itemWidth: 6,\n    itemHeight: 6,\n    itemGap: 25,\n    data: getLegendData(bmName[0]),\n    formatter: function (params) {\n      for (let i = 0; i < currentPieData.length; i++) {\n        if (params === currentPieData[i].name) {\n          return (\n            '{name|' +\n            params +\n            '}{value|' +\n            currentPieData[i].value +\n            '人}{rate|' +\n            currentPieData[i].percent +\n            '%}'\n          );\n        }\n      }\n    },\n    textStyle: {\n      rich: {\n        name: {\n          fontSize: 14,\n          fontWeight: 400,\n          width: 80,\n          //height: 20,\n          padding: [0, 0, 0, 5],\n          color: 'rgba(0, 0, 0, 0.65)',\n          fontFamily: 'Source Han Sans CN-Regular'\n        },\n        rate: {\n          fontSize: 14,\n          fontWeight: 500,\n          //height: 20,\n          width: 50,\n          align: 'right',\n          color: 'rgba(0, 0, 0, 0.85)',\n          fontFamily: 'Source Han Sans CN-Medium'\n        },\n        value: {\n          fontSize: 14,\n          fontWeight: 500,\n          //height: 20,\n          width: 50,\n          align: 'right',\n          color: 'rgba(0, 0, 0, 0.85)',\n          fontFamily: 'Source Han Sans CN-Medium'\n        }\n      }\n    }\n  },\n  series: seriesData\n};\n// 设置默认选中\nsetTimeout(() => {\n  myChart.dispatchAction({\n    type: 'select',\n    seriesName: 'treemap',\n    name: bmName[0]\n  });\n}, 50);\n\n// 点击事件\nmyChart.on('click', 'series.treemap', (param) => {\n  let seriesName = param.seriesName; // seriesName\n  let index = param.dataIndex - 1;\n  currentPieData = getPieData(bmName[index]);\n  currentBm = bmName[index];\n  myChart.setOption({\n    title: {\n      text: `{bm| ${currentBm}}{txt|在岗在编岗位系列人员分布}`\n    },\n    series: [\n      {\n        id: 'pie',\n        data: currentPieData\n      }\n    ]\n  });\n  myChart.dispatchAction({\n    type: 'select',\n    seriesName: 'treemap',\n    name: bmName[index]\n  });\n});"
  },
  {
    id: "assembly2",
    name: "教职工职称级别分布",
    type: ["assembly","bar","pie"],
    date: "2023.12.25",
    exampleImg: assembly2Img,
    remark: "饼图联动柱状图，鼠标悬浮切换",
    renderer: "svg",
    code: "/* 数据 */\n// 饼图\nconst pieName = ['常任职教师', '常任教职']; // 类型\nconst pieValue = [648, 324]; // 数量\n// 柱状图\nconst barName = [\n  '正高级',\n  '副高级',\n  '中级',\n  '初级',\n  '其他',\n  '正高级',\n  '初级',\n  '其他'\n]; // 类型\nconst barValue = [150, 120, 100, 180, 98, 124, 100, 100]; // 数量\nconst barNum = [5, 3]; // 柱子数量\n\n/* 数据整合 */\nlet pieData = []; // 饼图数据\nlet barData = []; // 柱状图数据\nlet currentIndex = 0; // 当前岗位下标\nconst colorPie = ['#73A0FB', '#73DEB4', '#2F467A', '#FACA42', '#F98973']; // 饼图颜色系列\npieName.map((item, index) => {\n  // 饼图数据整合\n  pieData.push({\n    name: item,\n    value: pieValue[index]\n  });\n  // 柱状图数据整合\n  let list = [];\n  for (let i = currentIndex; i < currentIndex + barNum[index]; i++) {\n    list.push({\n      name: barName[i],\n      value: barValue[i]\n    });\n  }\n  currentIndex += barNum[index];\n  barData[item] = list;\n});\n\n/* 函数 */\n// 数字分割：1653 => 1,653\nconst formatNum = (value) => {\n  if (!value && value !== 0) return 0;\n  let str = value.toString();\n  let reg =\n    str.indexOf('.') > -1 ? /(\\d)(?=(\\d{3})+\\.)/g : /(\\d)(?=(?:\\d{3})+$)/g;\n  return str.replace(reg, '$1,');\n};\n//获取当前类型的柱状图数据\nconst getBarData = (type) => {\n  return barData[type];\n};\n// 获取当前类型x轴数据\nconst getXData = (type) => {\n  let list = barData[type];\n  return list.map((item) => item.name);\n};\n\n/* 当前数据 */\n// 柱状图当前数据\nlet currentBarData = getBarData(pieName[0]);\n// 当前类型\nlet currentType = pieName[0];\n// 当前x轴数据\nlet xData = getXData(pieName[0]);\n// 当前柱子颜色\nlet barColor = colorPie[0];\n\n/* series整合 */\nlet seriesData = [];\n\n// 饼图\nseriesData.push({\n  name: 'pie',\n  id: 'pie',\n  type: 'pie',\n  left: '16',\n  top: 'center',\n  width: '35%',\n  color: colorPie,\n  label: { show: false },\n  itemStyle: {\n    borderColor: '#fff',\n    borderWidth: 2\n  },\n  radius: ['80%', '100%'],\n  data: pieData,\n  tooltip: {\n    formatter: (params) => {\n      let pieColor = params.color;\n      return `\n            <div style=\"position:relative;\">\n               <div style=\"width: 9px;height: 9px;background: ${pieColor};border: 1px solid #FFFFFF;position:absolute;top:50%;transform:translateY(-50%);left:0;border-radius:50%;\"></div>\n               <span style=\"margin:0 0 0 15px;font-size: 14px;font-family: Source Han Sans CN-Medium;font-weight: 400;color: #FFFFFF;\">${\n                 params.name\n               }</span>\n            </div>\n            <div style=\"margin:12px 0 0 15px;font-size: 14px;font-family: Source Han Sans CN-Regular;font-weight: 500;color: #FFFFFF;\">${formatNum(\n              params.value\n            )}人<span style=\"margin-left:24px;\">${params.percent}%</span></div>\n\t\t\t `;\n    }\n  }\n});\n// 柱状图\nseriesData.push({\n  name: 'bar',\n  id: 'bar',\n  type: 'bar',\n  data: currentBarData,\n  itemStyle: {\n    color: barColor,\n    borderRadius: [2, 2, 0, 0]\n  },\n  barWidth: 12,\n  tooltip: {\n    formatter: (params) => {\n      let pieColor = params.color;\n      return `\n            <div style=\"position:relative;\">\n               <div style=\"width: 9px;height: 9px;background: ${pieColor};border: 1px solid #FFFFFF;position:absolute;top:50%;transform:translateY(-50%);left:0;border-radius:50%;\"></div>\n               <span style=\"margin:0 0 0 15px;font-size: 14px;font-family: Source Han Sans CN-Medium;font-weight: 400;color: #FFFFFF;\">${\n                 params.name\n               }</span>\n            </div>\n            <div style=\"margin:12px 0 0 15px;font-size: 14px;font-family: Source Han Sans CN-Regular;font-weight: 500;color: #FFFFFF;\">${formatNum(\n              params.value\n            )}人</div>\n\t\t\t `;\n    }\n  }\n});\n\noption = {\n  grid: {\n    left: '40%',\n    right: '16',\n    bottom: '16',\n    containLabel: true\n  },\n  title: {\n    text: `{bm| ${currentType}}{txt|职称级别分布}`,\n    textStyle: {\n      rich: {\n        bm: {\n          color: 'rgba(151, 30, 35, 1)',\n          fontFamily: 'Source Han Sans CN-Regular',\n          fontSize: 14\n        },\n        txt: {\n          color: 'rgba(0, 0, 0, 0.85)',\n          fontFamily: 'Source Han Sans CN-Regular',\n          fontSize: 14,\n          padding: [0, 0, 0, 8]\n        }\n      }\n    },\n    backgroundColor: {\n      type: 'linear',\n      x: 0,\n      y: 0,\n      x2: 1,\n      y2: 0,\n      colorStops: [\n        {\n          offset: 0,\n          color: 'rgba(151, 30, 35, 0.2)' // 0% 处的颜色\n        },\n        {\n          offset: 1,\n          color: 'rgba(151, 30, 35, 0)' // 100% 处的颜色\n        }\n      ],\n      global: false // 缺省为 false\n    },\n    left: '40%',\n    top: 0\n  },\n  graphic: [\n    {\n      type: 'image',\n      top: 'center',\n      left: '39%',\n      style: {\n        image:\n          'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAOhJREFUOE9jZGBgYJgho6Sa8eTebRCbWMAIUjhdTnkHw3+GU8KP7zaGMTD8JUYzQiMDgzsDA8MDhv8MjZmP7y4gpBldI0z9Psb//xozHt8/hMsAXBph6uew/GVsTH165wm6AYQ0gtT/ZGRgbMx4dKcdWTMxGmHqr//7z9CY/fjuSpAAKRohBvxnaM18fLeGeI2MDMuZmf83pN27d4soG/8z/j/JwMDYmPXw7nbi/MjI8Po/WMOdqdiiBKtT/zP+7/vDytSYd+fOJ6LikZGRYcNfRqbG7Ae3LxCdchgZ/8/KeHhvHSENMHkAvNRhD4R/LDUAAAAASUVORK5CYII='\n      }\n    },\n    {\n      type: 'group',\n      x: 16,\n      top: 6,\n      children: [\n        {\n          type: 'text',\n          silent: true, // 不响应鼠标\n          top: 'middle',\n          left: 0,\n          style: {\n            text: '常任职教师数量',\n            font: '12px \"Source Han Sans CN-Regular\"',\n            fill: 'rgba(0, 0, 0, 1)'\n          }\n        },\n        {\n          type: 'text',\n          silent: true, // 不响应鼠标\n          top: 'middle',\n          left: 92,\n          style: {\n            text: pieValue[0] + '人',\n            font: '16px \"HarmonyOS Sans-Medium\"',\n            fill: 'rgba(151, 30, 35, 1)'\n          }\n        }\n      ]\n    },\n    {\n      type: 'group',\n      x: 16,\n      top: 22,\n      children: [\n        {\n          type: 'text',\n          silent: true, // 不响应鼠标\n          left: 0,\n          top: 32,\n          style: {\n            text: '常任教职人数',\n            font: '12px \"Source Han Sans CN-Regular\"',\n            fill: 'rgba(0, 0, 0, 1)'\n          }\n        },\n        {\n          type: 'text',\n          silent: true, // 不响应鼠标\n          left: 92,\n          top: 30,\n          style: {\n            text: pieValue[1] + '人',\n            font: '16px \"HarmonyOS Sans-Medium\"',\n            fill: 'rgba(151, 30, 35, 1)'\n          }\n        }\n      ]\n    }\n  ],\n  tooltip: {\n    trigger: 'item',\n    axisPointer: {\n      type: 'none'\n    },\n    confine: true,\n    extraCssText:\n      'opacity: 0.8;background-color:#050F1B;padding:12px;box-shadow: 1px 6px 15px 1px rgba(0,0,0,0.13);border-radius: 4px;filter: blur(undefinedpx);border:none;'\n  },\n  xAxis: {\n    type: 'category',\n    data: xData,\n    axisTick: {\n      show: false //隐藏X轴刻度\n    },\n    axisLine: {\n      lineStyle: {\n        color: '#CCCCCC'\n      }\n    },\n    axisLabel: {\n      show: true,\n      color: 'rgba(0,0,0,0.65)',\n      fontSize: 14,\n      fontFamily: 'Source Han Sans CN-Regular'\n    }\n  },\n  yAxis: [\n    {\n      type: 'value',\n      name: '单位：人',\n      nameTextStyle: {\n        color: 'rgba(0,0,0,0.65)',\n        fontSize: 14,\n        fontFamily: 'Source Han Sans CN-Regular',\n        align: 'left',\n        verticalAlign: 'center'\n      },\n      boundaryGap: ['0%', '20%'],\n      axisLabel: {\n        fontSize: 14,\n        color: 'rgba(0,0,0,0.65)',\n        fontFamily: 'HarmonyOS Sans-Regular'\n      },\n      axisLine: {\n        show: false\n      },\n      axisTick: {\n        show: false\n      },\n      splitLine: {\n        lineStyle: {\n          color: 'rgba(223, 223, 223, 1)',\n          type: 'dashed'\n        }\n      }\n    }\n  ],\n  series: seriesData\n};\n\n// 事件\nmyChart.on('mouseover', 'series.pie', (param) => {\n  let index = param.dataIndex;\n  // 改变当前数据\n  currentType = pieName[index];\n  currentBarData = getBarData(pieName[index]);\n  xData = getXData(pieName[index]);\n  barColor = colorPie[index];\n  // 改变option\n  myChart.setOption({\n    title: {\n      text: `{bm| ${currentType}}{txt|职称级别分布}`\n    },\n    xAxis: {\n      data: xData\n    },\n    series: [\n      {\n        id: 'bar',\n        data: currentBarData,\n        itemStyle: {\n          color: barColor\n        }\n      }\n    ]\n  });\n});"
  },
  {
    id: "assembly1",
    name: "科研项目增长趋势",
    type: ["assembly","bar","line"],
    date: "2023.12.22",
    exampleImg: assembly1Img,
    remark: "柱状图联动折线图，自动轮播，双Y轴",
    renderer: "canvas",
    code: "let xData = ['2018', '2019', '2020', '2021', '2022'];\nlet values1 = [273, 372, 160, 255, 180]; // 柱状\nlet values2 = [70, 75, 65, 60, 85]; // 折线\nconst legendData = ['新增科研项目数', '增长率'];\n\noption = {\n  backgroundColor: '#040a11',\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: {\n      type: 'none'\n    },\n    confine: true,\n    formatter: (params) => {\n      return `\n            <div style=\"font-size: 14px;font-family: Source Han Sans CN-Medium;font-weight: 500;color: #FFFFFF;margin-bottom:12px;\">${params[0].name}年</div>\n            <div style=\"font-size: 14px;font-family: Source Han Sans CN-Medium;font-weight: 500;color: #FFFFFF;margin-bottom:4px;\">${legendData[0]}：${params[0].value}个</div>\n            <div style=\"font-size: 14px;font-family: Source Han Sans CN-Medium;font-weight: 500;color: #FFFFFF;margin-bottom:4px;\">${legendData[1]}：${params[1].value}%</div>`;\n    },\n    extraCssText:\n      'opacity: 0.8;background-color:#050F1B;padding:16px;box-shadow: 1px 6px 15px 1px rgba(0,0,0,0.13);border-radius: 4px;filter: blur(undefinedpx);border:none;'\n  },\n  legend: {\n    data: legendData,\n    top: '0',\n    left: '0',\n    itemWidth: 12,\n    itemHeight: 12,\n    itemGap: 25,\n    textStyle: {\n      fontSize: 13,\n      color: '#82AFC6',\n      fontFamily: 'Source Han Sans CN-Normal',\n      padding: [0, 0, 0, 2]\n    }\n  },\n  grid: {\n    top: '60',\n    right: '16',\n    left: '16',\n    bottom: '16',\n    containLabel: true\n  },\n  xAxis: {\n    type: 'category',\n    data: xData,\n    axisTick: {\n      show: false //隐藏X轴刻度\n    },\n    axisLine: {\n      lineStyle: {\n        color: '#1a6d84'\n      }\n    },\n    axisLabel: {\n      show: true,\n      color: '#82AFC6',\n      fontSize: 13,\n      fontFamily: 'Source Han Sans CN-Normal'\n    }\n  },\n  yAxis: [\n    {\n      type: 'value',\n      name: legendData[0],\n      boundaryGap: ['0%', '20%'],\n      alignTicks: true,\n      splitNumber: 5,\n      nameTextStyle: {\n        color: '#82AFC6',\n        fontSize: 13,\n        fontFamily: 'Source Han Sans CN-Normal',\n        align: 'left',\n        verticalAlign: 'center'\n      },\n      axisLabel: {\n        color: '#82AFC6',\n        fontSize: 13,\n        fontFamily: 'Source Han Sans CN-Normal'\n      },\n      axisLine: {\n        show: false\n      },\n      axisTick: {\n        show: false\n      },\n      splitLine: {\n        lineStyle: {\n          color: 'rgba(49, 218, 255, 0.5)',\n          type: 'dashed'\n        }\n      }\n    },\n    {\n      type: 'value',\n      name: legendData[1],\n      position: 'right',\n      boundaryGap: ['0%', '20%'],\n      alignTicks: true,\n      splitNumber: 5,\n      nameTextStyle: {\n        color: '#82AFC6',\n        fontSize: 13,\n        fontFamily: 'Source Han Sans CN-Normal',\n        align: 'right',\n        verticalAlign: 'center'\n      },\n      axisLabel: {\n        color: '#82AFC6',\n        fontSize: 13,\n        fontFamily: 'Source Han Sans CN-Normal'\n      },\n      axisLine: {\n        show: false\n      },\n      axisTick: {\n        show: false\n      },\n      splitLine: {\n        lineStyle: {\n          color: 'rgba(49, 218, 255, 0.5)',\n          type: 'dashed'\n        }\n      }\n    }\n  ],\n  series: [\n    {\n      type: 'bar',\n      name: legendData[0],\n      data: values1,\n      itemStyle: {\n        color: {\n          type: 'linear',\n          x: 0,\n          y: 0,\n          x2: 0,\n          y2: 1,\n          colorStops: [\n            {\n              offset: 0,\n              color: 'rgba(49, 218, 255, 1)' // 0% 处的颜色\n            },\n            {\n              offset: 1,\n              color: 'rgba(3, 21, 50, 1)' // 100% 处的颜色\n            }\n          ],\n          global: false // 缺省为 false\n        },\n        borderRadius: [4, 4, 0, 0]\n      },\n      barWidth: 26\n    },\n    {\n      name: legendData[1],\n      type: 'line',\n      data: values2,\n      yAxisIndex: 1,\n      symbolSize: 8, //标记的大小\n      emphasis: {\n        scale: 1.5\n      },\n      areaStyle: {\n        color: {\n          type: 'linear',\n          x: 0,\n          y: 0,\n          x2: 0,\n          y2: 1,\n          colorStops: [\n            {\n              offset: 0,\n              color: 'rgba(6, 201, 112, 0.3)' // 0% 处的颜色\n            },\n            {\n              offset: 1,\n              color: 'rgba(47,145,255,0)' // 100% 处的颜色\n            }\n          ],\n          global: false // 缺省为 false\n        }\n      },\n      lineStyle: {\n        color: 'rgba(6, 201, 112, 1)',\n        width: 2\n      },\n      itemStyle: {\n        //折线拐点标志的样式\n        color: 'rgba(6, 201, 112, 1)',\n        borderColor: 'rgba(6, 201, 112, 1)',\n        borderWidth: 2\n      }\n      // smooth: true\n    },\n    {\n      // 滚动点\n      type: 'lines',\n      zIndex: 999,\n      z: 999,\n      yAxisIndex: 1,\n      coordinateSystem: 'cartesian2d',\n      polyline: true,\n      smooth: true,\n      effect: {\n        show: true,\n        trailLength: 0,\n        period: 10, //光点滑动速度\n        delay: 2000,\n        symbol: 'circle',\n        color: '#9eefce',\n        symbolSize: 8,\n        shadowBlur: 10,\n        shadowColor: '#9eefce'\n      },\n      lineStyle: {\n        show: false,\n        opacity: 0\n      },\n      data: [\n        {\n          coords: xData.map((item, index) => {\n            return ['' + xData[index], '' + values2[index]];\n          })\n        }\n      ]\n    }\n  ]\n};\n\nlet count = 0;\nlet timer = null;\n\nlet dataLength = option.series[1].data.length;\ntimer && clearInterval(timer);\ntimer = setInterval(() => {\n  myChart.dispatchAction({\n    type: 'downplay',\n    seriesIndex: 1\n  });\n  myChart.dispatchAction({\n    type: 'highlight',\n    seriesIndex: 1,\n    dataIndex: count % dataLength\n  });\n  myChart.dispatchAction({\n    type: 'showTip',\n    seriesIndex: 1,\n    dataIndex: count % dataLength\n  });\n  count++;\n}, 2000);"
  },
]